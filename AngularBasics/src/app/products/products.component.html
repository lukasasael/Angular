<app-search (searchTextChanged)="onSearchTextEntered($event)"></app-search>
<app-filter
  [general]="getTotalProducts()"
  [beautiful]="getBeautifulProducts()"
  [ugly]="getUglyProducts()"
  (filterRadioButtonSelectionChanged)="onFilterRadioButtonChanged($event)"
></app-filter>
<div
  style="
    display: flex;
    flex-direction: row;
    margin-top: 5%;
    justify-content: space-evenly;
  "
>
  <ng-container *ngFor="let person of products; let i = index">
    <ng-container
      *ngIf="
        searchText === '' || person.name.toLowerCase().includes(searchText)
      "
    >
      <div
        *ngIf="
          peopleCountRadioButton === 'all' ||
          peopleCountRadioButton === person.beautiful
        "
      >
        <div
          class="container-md alert alert-success"
          style="width: 200px"
          [ngStyle]="{
            backgroundColor:
              person.beautiful === 'yes' ? '#D5F5E3' : 'lightyellow'
          }"
        >
          <div *ngIf="person.name != 'Josue Vitor'; else josue">
            <p>{{ i + 1 }}</p>
            <p>{{ person.name }}</p>
            <p>{{ person.city }}</p>
            <p>{{ person.birthday }}</p>
            <p>{{ person.christian }}</p>
            <p
              [ngStyle]="{
                color: i === 0 ? 'Blue' : 'Green'
              }"
            >
              {{ person.beautiful }}
            </p>
          </div>
          <ng-template #josue2>
            <p>There's something lurking in the dark</p>
          </ng-template>
          <ng-template #josue>
            <button class="btn btn-danger" (click)="showMonster($event)">
              Reveal
            </button>
            <div *ngIf="monsterRevealed; else josue2" style="padding-top: 5%">
              <p>{{ i + 1 }}</p>
              <p>{{ person.name }}</p>
              <p>{{ person.city }}</p>
              <p>{{ person.birthday }}</p>
              <p>{{ person.christian }}</p>
              <p>{{ person.beautiful }}</p>
            </div>
          </ng-template>
        </div>
      </div>
    </ng-container>
  </ng-container>
</div>
